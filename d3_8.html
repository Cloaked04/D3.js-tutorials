<!doctype html>
<html>
	<head>
		<title>D3-3</title> 
		<script src='http://d3js.org/d3.v3.min.js'></script>
	</head>
	<body>
		<script>
		// Creating an Donut chart in d3. Angles are defined in radians. We don't use any outside data.
			
			var data = [10,20,30,40]

			var color = d3.scale.ordinal()
			              .range(['red','blue','orange','green']) // Defining color for each data.

			var canvas = d3.select('body')
			               .append('svg')
			               .attr('width',2000).attr('height',2000);

                
            var group = canvas.append('g')
                              .attr('transform','translate(300,300)');

            var r = 300
            
            var arc = d3.svg.arc()            //Define properties for all arcs.
                        .innerRadius(180)
                        .outerRadius(r)

            var pie = d3.layout.pie()                     //Initilize Pie layout and it to data. This provides angle
                        .value(function(d){return (d);}); // according to the position and arc size.

            var arcs = group.selectAll('arc')             // Select all arcs in group
                           .data(pie(data))               // Tie it to data generated by pie layout.
                           .enter()                       // Enter each arc.
                           .append('g')                   // Append to group.
                           .attr('class','arc');          // Each arc has class

            arcs.append('path')                                  //Append path to each arc.
                .attr('d',arc)                                   // Every arc tied to corresponding data.
                .attr('fill',function(d){return color(d.data);}); // Fill arc with respective color acc. to data.

            arcs.append('text')                                                             //Add text.
                .attr('transform',function(d){return 'translate('+ arc.centroid(d) + ')';}) //Move text to good loc.
                .attr('text-anchor','middle')                              // Where should the text be.
                .attr('font-size','1.8em')                           
                .text(function(d){return d.data;});                        // Tieing data to text. Only input data.
                                                                           // As 'd' has all values as angles, etc.
		</script>
                }
	</body>
</html>	